

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>命令行工具使用指南 &mdash; Uliweb Documentation 0.1.4 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="Uliweb Documentation 0.1.4 documentation" href="index.html" />
    <link rel="next" title="数据库和ORM" href="orm.html" />
    <link rel="prev" title="部署指南" href="deployment.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="orm.html" title="数据库和ORM"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="deployment.html" title="部署指南"
             accesskey="P">上一页</a> |</li>
        <li><a href="index.html">Uliweb Documentation 0.1.4 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>命令行工具使用指南<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="uliweb">
<h2>uliweb<a class="headerlink" href="#uliweb" title="永久链接至标题">¶</a></h2>
<p>当运行不带参数的uliweb命令时，会显示一个帮助信息，但是因为命令很多，所以这个帮
助只是列出可用命令的清单，如:</p>
<div class="highlight-python"><pre>Usage: uliweb [global_options] [subcommand [options] [args]]

Global Options:
  --help                show this help message and exit.
  -v, --verbose         Output the result in verbose mode.
  -s SETTINGS, --settings=SETTINGS
                        Settings file name. Default is "settings.ini".
  -L LOCAL_SETTINGS, --local_settings LOCAL_SETTINGS
                        Local settings file name. Default is
                        "local_settings.ini".
  --project PROJECT     Project "apps" directory.
  --pythonpath PYTHONPATH
                        A directory to add to the Python path, e.g.
                        "/home/myproject".
  --version             show program's version number and exit

Type 'uliweb help &lt;subcommand&gt;' for help on a specific subcommand.

Available subcommands:
  call
  develop
  export
  exportstatic
  find
  i18n
  makeapp
  makecmd
  makepkg
  makeproject
  runserver
  shell
  support</pre>
</div>
<p>在uliweb中，有一些是全局性的命令，有一些是由某个app提供的命令。因此当你在一个
project目录下运行uliweb命令时，它会根据当前project所安装的app来显示一个完整的
命令清单。上面的示例只显示了在没有任何项目时的全局命令。比如你安装了orm app，则
可能显示的清单为:</p>
<div class="highlight-python"><pre>Available subcommands:
  call
  createsuperuser
  dbinit
  develop
  droptable
  dump
  dumptable
  dumptablefile
  export
  exportstatic
  find
  i18n
  load
  loadtable
  loadtablefile
  makeapp
  makecmd
  makepkg
  makeproject
  reset
  resettable
  runserver
  shell
  sql
  sqldot
  support
  syncdb</pre>
</div>
<p>其中象 dump*, load*, sql*, syncdb, reset* 等命令都是由orm app提供的。</p>
<p>如果想看单个命令的帮助信息，可以执行:</p>
<div class="highlight-python"><pre>#&gt; uliweb help sql
Usage: uliweb sql &lt;appname, appname, ...&gt;

Display the table creation sql statement. If no apps, then process the whole dat
abase.</pre>
</div>
<div class="section" id="id2">
<h3>常用全局选项说明<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<p>除了命令，uliweb还提供了全局可用的参数，它与单个命令自已的参数不同，它是对
所有命令都可以使用的参数。</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--help</span></kbd></td>
<td>和不带任何参数一样，显示帮助信息。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-v</span>, <span class="option">--verbose</span></kbd></td>
<td>是否冗余方式输出。缺省情况下，许多命令在成功时不会有输出结果，只在出错时
显示出错信息。使用-v模式，可以在执行时显示一些执行信息。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-s <var>SETTINGS</var></span>, <span class="option">--settings=<var>SETTINGS</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>uliweb的全局配置文件缺省为project/apps目录下的settings.ini文件，你也可以通过
本参数将其改为其它的文件名。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-L <var>LOCAL_SETTINGS</var></span>, <span class="option">--local_settings=<var>LOCAL_SETTINGS</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>除全局配置文件外，还有一个本地配置文件，缺省文件名为local_settings.ini。也
同样放在project/apps目录下。它会在settings.ini被处理完之后被处理。
因此，你可以在其中加入只在当前环境有效的参数，并且不将其放入版本库中，以实
现，不同的环境有不同的配置信息。简单讲，可以在settings.ini中放在公共的配置
信息，在local_settings.ini中放入与环境相关的配置信息。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--pythonpath=<var>PYTHONPATH</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>设置python路径，将会被添加到sys.path。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--version</span></kbd></td>
<td>显示当前的版本</td></tr>
</tbody>
</table>
</div>
<div class="section" id="runserver">
<h3>runserver<a class="headerlink" href="#runserver" title="永久链接至标题">¶</a></h3>
<p>启动开发服务器:</p>
<div class="highlight-python"><pre>Usage: uliweb runserver [options]</pre>
</div>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h <var>HOSTNAME</var></span></kbd></td>
<td>开发服务器的地址，缺省为localhost</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-p <var>PORT</var></span></kbd></td>
<td>开发服务器端口，缺省为8000</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--no-reload</span></kbd></td>
<td>是否当修改代码后自动重新装载代码，缺省为True。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--no-debug</span></kbd></td>
<td>是否当出现错误时可以显示Debug页面，缺省为True。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--thread</span></kbd></td>
<td>是否使用线程模式。缺省为False。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--processes=<var>PROCESSES</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>启动时创建进程的个数。此命令在windows下不可用。因为它要使用os.fork来创
建进程。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--ssl</span></kbd></td>
<td>是否启动https模式，需要安装pyOpenSSL，可以通过easy_install pyOpenSSL来安装。它与下面的ssl-key和ssl-cert是要一起使用的。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--ssl-key</span></kbd></td>
<td>ssl-key是指明要使用的ssl私钥文件，缺省为当前目录下的ssl.key文件。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--ssl-cert</span></kbd></td>
<td>ssl-cert是指明要使用的ssl语书文件，缺省为当前目录下的ssl.cert文件。</td></tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>在werkzeug的文档中有如何生成key和cert文件的方法，示例如下:</p>
<div class="highlight-python"><pre>$ openssl genrsa 1024 &gt; ssl.key
$ openssl req -new -x509 -nodes -sha1 -days 365 -key ssl.key &gt; ssl.cert</pre>
</div>
<p class="last">其中在生成cert文件时，会提许多的问题，按要求回答一下就好了。在windows下我是装了git环境，它带了一个openssl的工具，用起来很方便。</p>
</div>
<p>示例：</p>
<div class="highlight-python"><pre>uliweb runserver #启动缺省服务器</pre>
</div>
</div>
<div class="section" id="develop">
<h3>develop<a class="headerlink" href="#develop" title="永久链接至标题">¶</a></h3>
<p>功能同runserver，但是会自动包含develop这个App。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">使用这个命令，需要安装plugs。</p>
</div>
</div>
<div class="section" id="export">
<h3>export<a class="headerlink" href="#export" title="永久链接至标题">¶</a></h3>
<p>将已安装的app目录下的文件导出到指定目录。它的作用是当部署到某些受限环境时，需要
将用到的模块源码打包上传，通过这个命令可以导出uliweb项目中已经安装的模块的源码，
未安装的app源码将不会导出。同时也可以导出指定模块的源码，如导出uliweb的源码。</p>
<div class="highlight-python"><pre>Usage: uliweb export [options] [module1 module2]</pre>
</div>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-d <var>OUTPUTDIR</var></span></kbd></td>
<td>将指定的模块源码导出到指定的目录下。</td></tr>
</tbody>
</table>
<p>示例：</p>
<div class="highlight-python"><pre>uliweb export -d ../lib
#将所有已安装的app导出到 ``../lib`` 目录下，不包含 static 目录。

uliweb export -d ../lib uliweb
#uliweb包导出到 ``../lib`` 目录下。</pre>
</div>
<div class="admonition attention">
<p class="first admonition-title">注意</p>
<p class="last">export命令需要在project目录下运行。</p>
</div>
</div>
<div class="section" id="exportstatic">
<h3>exportstatic<a class="headerlink" href="#exportstatic" title="永久链接至标题">¶</a></h3>
<p>将所有已安装的app下的static文件和子目录复制到一个统一的目录下。注意，如果你在apps的
settings.py中设定了INSTALLED_APPS参数，则所有设定的app将被处理，如果没有设置，则
按缺省方式，将apps目录下的所有app都进行处理。对于存在同名的文件，此命令缺省将进行检
查，如果发现文件名相同，但内容不同的文件将会给出指示，并且放弃对此文件的拷贝。可以
在命令行使用-no-check来关闭检查。</p>
<div class="highlight-python"><pre>Usage: uliweb exportstatic [options] outputdir [app1, app2, ...]</pre>
</div>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-c</span>, <span class="option">--check</span></kbd></td>
<td>是否在拷贝时进行检查，一旦发现不符会在命令行进行指示。如果设定为
不检查，则直接进行覆盖。缺省为不检查。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--js</span></kbd></td>
<td>和下面的-J连用，用于将js文件进行压缩处理。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-J <var>JS_COMPRESSOR</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>JS压缩程序(Jar包)路径。缺省使用Google Clource Compiler(compiler.jar)来
进行处理。默认是从命令执行目录下查找compiler.jar包。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--css</span></kbd></td>
<td>和下面的-C连用，用于将css文件进行压缩处理。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-C <var>CSS_COMPRESSOR</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>CSS压缩程序(Jar包)路径。缺省使用Yahoo的Yui CSS Compressor(yuicompressor.jar)
来进行处理。默认是从命令执行目录下查找yuicompressor.jar包。</td></tr>
</tbody>
</table>
<p>可以在输出路径后面再指定若干个app的名字，这样只会导出指定app的静态文件。</p>
<p>示例：</p>
<div class="highlight-python"><pre>uliweb exportstatic static
#将所有已安装的app下的static文件拷贝到static目录下。</pre>
</div>
</div>
<div class="section" id="find">
<h3>find<a class="headerlink" href="#find" title="永久链接至标题">¶</a></h3>
<p>查找对象，包括：模板、URL对应的view、静态文件和Model定义的模块</p>
<div class="highlight-python"><pre>Usage: uliweb find -u url
or
Usage: uliweb find -t template
or
Usage: uliweb find -c static
or
Usage: uliweb find -m model_name</pre>
</div>
</div>
<div class="section" id="makeproject">
<h3>makeproject<a class="headerlink" href="#makeproject" title="永久链接至标题">¶</a></h3>
<p>生成一个project框架，它将自动按给定的名字生成一个project目录，同时包含有初始子目录和文件。</p>
<div class="highlight-python"><pre>Usage: uliweb makeproject [-f] projectname</pre>
</div>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-f</span></kbd></td>
<td>如果指定则当目录存在时不提示用户选择是否覆盖。</td></tr>
</tbody>
</table>
<p>示例：</p>
<div class="highlight-python"><pre>uliweb makeproject project</pre>
</div>
<p>创建project项目目录。</p>
</div>
<div class="section" id="makeapp">
<h3>makeapp<a class="headerlink" href="#makeapp" title="永久链接至标题">¶</a></h3>
<p>生成一个app框架，它将自动按给定的名字生成一个app目录，同时包含有初始子目录和文件。</p>
<div class="highlight-python"><pre>Usage: uliweb makeapp [-f] appname</pre>
</div>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-f</span></kbd></td>
<td>如果指定则当目录存在时不提示用户选择是否覆盖。</td></tr>
</tbody>
</table>
<p>示例：</p>
<div class="highlight-python"><pre>uliweb makeapp Hello</pre>
</div>
<p>创建Hello应用。如果当前目前下有apps目录，则将在apps目录下创建一个Hello的目录，
并带有初始的文件和结构。如果当前目前下没有apps目录，则直接创建Hello的目录。</p>
</div>
<div class="section" id="makecmd">
<h3>makecmd<a class="headerlink" href="#makecmd" title="永久链接至标题">¶</a></h3>
<p>向指定的app或当前目录下生成一个commands.py模板。</p>
<div class="highlight-python"><pre>Usage: uliweb makecmd [appname, ...]</pre>
</div>
<p>示例：</p>
<div class="highlight-python"><pre>uliweb makecmd Hello</pre>
</div>
</div>
<div class="section" id="makepkg">
<h3>makepkg<a class="headerlink" href="#makepkg" title="永久链接至标题">¶</a></h3>
<p>生成一个Python包结构目录，即带有__init__.py文件。</p>
<div class="highlight-python"><pre>Usage: uliweb makepkg pkgname</pre>
</div>
</div>
<div class="section" id="i18n">
<h3>i18n<a class="headerlink" href="#i18n" title="永久链接至标题">¶</a></h3>
<p>i18n处理工具，用来从项目中提取_()形式的信息，并生成.pot文件。可以按app或全部app或整个
项目为单位进行处理。对于app或全部app方式，将在每个app下创建： <tt class="docutils literal"><span class="pre">app/locale/[zh]/LC_MESSAGES/uliweb.pot</span></tt>
这样的文件。其中[zh]根据语言的不同而不同。并且它还会把.pot文件自动合并到uliweb.po文件上。</p>
<div class="highlight-python"><pre>Usage: uliweb i18n [options] &lt;appname, appname, ...&gt;</pre>
</div>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--apps</span></kbd></td>
<td>对所有app进行处理。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-p</span></kbd></td>
<td>处理整个项目。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-d <var>DIRECTORY</var></span></kbd></td>
<td>处理指定目录。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--uliweb</span></kbd></td>
<td>只处理uliweb本身。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-l <var>LOCALE</var></span></kbd></td>
<td>如果没有指定则为en。否则按指定名字生成相应的目录。</td></tr>
</tbody>
</table>
<p>如果最后给出app的列表，则会按指定的app进行处理。但一旦给出了&#8211;apps参数，
则app列表将无效。</p>
<p>示例：</p>
<div class="highlight-python"><pre>uliweb i18n -d plugs -l zh_CN #处理plugs目录
uliweb i18n --apps -l zh_CN   #全部全部app的处理
uliweb i18n -l zh_CN Test     #只处理 Test app
uliweb i18n -p                #整个项目，使用en</pre>
</div>
</div>
<div class="section" id="call">
<h3>call<a class="headerlink" href="#call" title="永久链接至标题">¶</a></h3>
<div class="highlight-python"><pre>Usage: uliweb call name</pre>
</div>
<p>执行所有安装的App下的名为&lt;name&gt;.py程序。</p>
</div>
<div class="section" id="support">
<h3>support<a class="headerlink" href="#support" title="永久链接至标题">¶</a></h3>
<div class="highlight-python"><pre>Usage: uliweb support supported_type</pre>
</div>
<p>向当前的项目添加某种平台的支持文件。目前支持gae和doccloud。</p>
<dl class="docutils">
<dt>gae平台</dt>
<dd>将额外拷贝app.yaml和gae_handler.py。</dd>
<dt>dotcloud平台</dt>
<dd>将额外拷贝requirements.txt和wsgi.py。不过一般情况下你有可能要修改requirements.txt
以满足你的要求。</dd>
</dl>
</div>
<div class="section" id="shell">
<h3>shell<a class="headerlink" href="#shell" title="永久链接至标题">¶</a></h3>
<p>在当前项目目录下，进入shell环境。可以直接使用如application, settings.ini等全局
变量。</p>
</div>
</div>
<div class="section" id="app">
<h2>其它App包含的命令<a class="headerlink" href="#app" title="永久链接至标题">¶</a></h2>
<div class="section" id="orm-app">
<h3>orm app<a class="headerlink" href="#orm-app" title="永久链接至标题">¶</a></h3>
<p>orm app带有一系列针对数据库操作的命令，从0.1版本开始，uliorm开始支持多数据连接的
设置，具体的使用参见 ORM 的文档。同时在命令行工具上也支持对不同数据连接，它们共
同使用 <tt class="docutils literal"><span class="pre">--engine</span></tt> 参数。缺省为 <tt class="docutils literal"><span class="pre">default</span></tt> 。其它的数据库连接要在 <tt class="docutils literal"><span class="pre">settings.ini</span></tt>
中进行设置。</p>
<p>可用命令列举如下：</p>
<div class="section" id="alembic">
<h4>alembic<a class="headerlink" href="#alembic" title="永久链接至标题">¶</a></h4>
<p><a class="reference external" href="http://readthedocs.org/docs/alembic/en/latest/index.html">alembic</a> 是用于
sqlalchemy的数据库迁移工具。目前Uliweb已经集成了alembic的部分命令，分别为:</p>
<div class="highlight-python"><pre>init                        初始化alembic环境
revision                    生成一个版本
    -m --message Message    可选的消息
    --autogenerate          自动生成版本
diff                        相当于使用revision时自动带autogenerate
    -m --message Message    可选的消息
upgrade revision            升级指定的版本，当前版本为head
    --sql                   不真正执行升级，而是生成sql
    --tag TAG               指定一个tag（不是太明白作用）
help &lt;subcommand&gt;           查看某个子命令的帮助</pre>
</div>
<p>全部选项：</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--engine <var>Name</var></span></kbd></td>
<td>引擎名称</td></tr>
</tbody>
</table>
<p>和数据库的命令一样，alembic也支持加入 <tt class="docutils literal"><span class="pre">--engine</span></tt> 选项，用来选择数据库的连接。
上面所有的alembic的子命令都支持 <tt class="docutils literal"><span class="pre">--engine</span></tt> 选项。如果没有设置，缺省为 <tt class="docutils literal"><span class="pre">default</span></tt>.</p>
<p>在使用时，一般先执行 <tt class="docutils literal"><span class="pre">init</span></tt> 进行初始化，如:</p>
<div class="highlight-python"><pre>uliweb alembic init [--engine other]</pre>
</div>
<p>如果是使用缺省数据库连接，则不用带其它的参数。如果要指定其它的数据库连接，则要
使用 <tt class="docutils literal"><span class="pre">--engine</span></tt> 来指定。执行后，uliweb会在当前的目录下创建形为:</p>
<div class="highlight-python"><pre>project/
    alembic/
        &lt;engine&gt;/
            alembic.ini
            versions/
            env.py
            script.py.mako</pre>
</div>
<p><tt class="docutils literal"><span class="pre">alembic.ini</span></tt> 为alembic使用的配置文件。 <tt class="docutils literal"><span class="pre">env.py</span></tt> 为自动处理时要调用的脚本。
uliweb主要是针对这两个文件进行了定制性的处理。上面的目录结构将会为每个数据库连接
创建一个目录。这样不同的数据库的脚本将分别存放。</p>
<p>在使用alembic命令前，首先要安装它，简单的命令为:</p>
<div class="highlight-python"><pre>pip install alembic</pre>
</div>
</div>
<div class="section" id="syncdb">
<h4>syncdb<a class="headerlink" href="#syncdb" title="永久链接至标题">¶</a></h4>
<p>自动根据已安装的app中settings.ini中所配置的MODELS信息，在数据库中创建不存在的表。
如果只是写在models.py中，但是未在settings.ini中进行配置，则不能自动创建。</p>
<p>settings.ini中的写法如:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">MODELS</span><span class="p">]</span>
<span class="n">question</span> <span class="o">=</span> <span class="s">&#39;ticket.models.Question&#39;</span>
</pre></div>
</div>
<p>其中key是与Model对应的真正的表名，不能随便起。</p>
</div>
<div class="section" id="sql">
<h4>sql<a class="headerlink" href="#sql" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb sql &lt;appname, appname, ...&gt;</pre>
</div>
<p>用于显示对应app的Create语句。但是目前还无法显示创建Index的信息。</p>
<p>命令后面可以跟若干app名字，如果没有给出，则表示整个项目。</p>
</div>
<div class="section" id="sqldot">
<h4>sqldot<a class="headerlink" href="#sqldot" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb sqldot &lt;appname, appname, ...&gt;</pre>
</div>
<p>类似sql命令，但是它会将表及表的关系生成.dot文件，可以使用graphviz将dot文件转
为图形文件。</p>
</div>
<div class="section" id="droptable">
<h4>droptable<a class="headerlink" href="#droptable" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb droptable &lt;tablename, tablename, ...&gt;</pre>
</div>
<p>从数据库中删除某些表。</p>
</div>
<div class="section" id="dump">
<h4>dump<a class="headerlink" href="#dump" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb dump [options] &lt;appname, appname, ...&gt;</pre>
</div>
<p>将数据从数据库中卸载下来。</p>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-o <var>OUTPUT_DIR</var></span></kbd></td>
<td>数据文件输出路径。缺省在项目目录的./data目录下。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-t</span>, <span class="option">--text</span></kbd></td>
<td>将数据以纯文本格式卸载下来。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--delimiter=<var>DELIMITER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字段的分隔符。缺省为&#8217;,&#8217;。需要与-t连用。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--encoding=<var>ENCODING</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字符字段所使用的编码。缺省为&#8217;utf-8&#8217;。需要与-t连用。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-z <var>zipfilename</var></span></kbd></td>
<td>将导出的文本写入zipfilename中。</td></tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">dump系列函数在0.1版本后有所变化。因为支持了多数据库，所以缺省情况下，dump
出来的文件将存放到 <tt class="docutils literal"><span class="pre">data/default</span></tt> 目录下。如果指定了 <tt class="docutils literal"><span class="pre">--engine</span> <span class="pre">other</span></tt> 参数，则
文件将存放到 <tt class="docutils literal"><span class="pre">data/other</span></tt> 目录下。同时load系列函数也会作相同的处理。</p>
</div>
</div>
<div class="section" id="dumptable">
<h4>dumptable<a class="headerlink" href="#dumptable" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb dumptable [options] &lt;tablename, tablename, ...&gt;</pre>
</div>
<p>将指定的表中的数据卸载下来。参数说明同dump。</p>
</div>
<div class="section" id="dumptablefile">
<h4>dumptablefile<a class="headerlink" href="#dumptablefile" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb dumptablefile [options] tablename text_filename</pre>
</div>
<p>将指定的表数据卸载到指定的文件中。此命令与dump和dumptable不同的地方是：这个命令
只处理一个表，并且可以指定输出文件名。而后两个命令不能指定文件名，它将按表名生
成文件名，并且放到指定的目录下。</p>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-t</span>, <span class="option">--text</span></kbd></td>
<td>将数据以纯文本格式卸载下来。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--delimiter=<var>DELIMITER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字段的分隔符。缺省为&#8217;,&#8217;。需要与-t连用。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--encoding=<var>ENCODING</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字符字段所使用的编码。缺省为&#8217;utf-8&#8217;。需要与-t连用。</td></tr>
</tbody>
</table>
</div>
<div class="section" id="load">
<h4>load<a class="headerlink" href="#load" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb load [options] &lt;appname, appname, ...&gt;</pre>
</div>
<p>将数据装入到数据库中。</p>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-d <var>DIR</var></span></kbd></td>
<td>数据文件所存放的目录。</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-t</span>, <span class="option">--text</span></kbd></td>
<td>将数据以纯文本格式进行处理。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--delimiter=<var>DELIMITER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字段的分隔符。缺省为&#8217;,&#8217;。需要与-t连用。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--encoding=<var>ENCODING</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字符字段所使用的编码。缺省为&#8217;utf-8&#8217;。需要与-t连用。</td></tr>
</tbody>
</table>
</div>
<div class="section" id="loadtable">
<h4>loadtable<a class="headerlink" href="#loadtable" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb loadtable [options] &lt;tablename, tablename, ...&gt;</pre>
</div>
<p>只装入指定的表名数据到数据库中。参数同load。</p>
</div>
<div class="section" id="loadtablefile">
<h4>loadtablefile<a class="headerlink" href="#loadtablefile" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb loadtablefile [options] tablename text_filename</pre>
</div>
<p>将指定的文件装入到对应的表中。</p>
<p>参数说明:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-t</span>, <span class="option">--text</span></kbd></td>
<td>将数据以纯文本格式进行处理。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--delimiter=<var>DELIMITER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字段的分隔符。缺省为&#8217;,&#8217;。需要与-t连用。</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--encoding=<var>ENCODING</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>文本文件字符字段所使用的编码。缺省为&#8217;utf-8&#8217;。需要与-t连用。</td></tr>
</tbody>
</table>
</div>
<div class="section" id="reset">
<h4>reset<a class="headerlink" href="#reset" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb reset &lt;appname, appname, ...&gt;</pre>
</div>
<p>重置整个数据库或指定的app。</p>
</div>
<div class="section" id="resettable">
<h4>resettable<a class="headerlink" href="#resettable" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb resettable &lt;tablename, tablename, ...&gt;</pre>
</div>
<p>重置指定的表。</p>
</div>
<div class="section" id="sqlhtml">
<h4>sqlhtml<a class="headerlink" href="#sqlhtml" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb sqlhtml &lt;appname, appname, ...&gt; &gt; output.html</pre>
</div>
<p>对指定的app或整个数据库生成表结构的说明文档。</p>
</div>
<div class="section" id="validatedb">
<h4>validatedb<a class="headerlink" href="#validatedb" title="永久链接至标题">¶</a></h4>
<div class="highlight-python"><pre>Usage: uliweb validatedb [-t] &lt;appname, appname, ...&gt;</pre>
</div>
<p>对指定的app或整个数据库进行结构校验，检查数据库中的字段与源码中的Model定义是否
一致。</p>
</div>
</div>
<div class="section" id="auth-app">
<h3>auth app<a class="headerlink" href="#auth-app" title="永久链接至标题">¶</a></h3>
<div class="section" id="createsuperuser">
<h4>createsuperuser<a class="headerlink" href="#createsuperuser" title="永久链接至标题">¶</a></h4>
<p>创建超级用户。</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">內容目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">命令行工具使用指南</a><ul>
<li><a class="reference internal" href="#uliweb">uliweb</a><ul>
<li><a class="reference internal" href="#id2">常用全局选项说明</a></li>
<li><a class="reference internal" href="#runserver">runserver</a></li>
<li><a class="reference internal" href="#develop">develop</a></li>
<li><a class="reference internal" href="#export">export</a></li>
<li><a class="reference internal" href="#exportstatic">exportstatic</a></li>
<li><a class="reference internal" href="#find">find</a></li>
<li><a class="reference internal" href="#makeproject">makeproject</a></li>
<li><a class="reference internal" href="#makeapp">makeapp</a></li>
<li><a class="reference internal" href="#makecmd">makecmd</a></li>
<li><a class="reference internal" href="#makepkg">makepkg</a></li>
<li><a class="reference internal" href="#i18n">i18n</a></li>
<li><a class="reference internal" href="#call">call</a></li>
<li><a class="reference internal" href="#support">support</a></li>
<li><a class="reference internal" href="#shell">shell</a></li>
</ul>
</li>
<li><a class="reference internal" href="#app">其它App包含的命令</a><ul>
<li><a class="reference internal" href="#orm-app">orm app</a><ul>
<li><a class="reference internal" href="#alembic">alembic</a></li>
<li><a class="reference internal" href="#syncdb">syncdb</a></li>
<li><a class="reference internal" href="#sql">sql</a></li>
<li><a class="reference internal" href="#sqldot">sqldot</a></li>
<li><a class="reference internal" href="#droptable">droptable</a></li>
<li><a class="reference internal" href="#dump">dump</a></li>
<li><a class="reference internal" href="#dumptable">dumptable</a></li>
<li><a class="reference internal" href="#dumptablefile">dumptablefile</a></li>
<li><a class="reference internal" href="#load">load</a></li>
<li><a class="reference internal" href="#loadtable">loadtable</a></li>
<li><a class="reference internal" href="#loadtablefile">loadtablefile</a></li>
<li><a class="reference internal" href="#reset">reset</a></li>
<li><a class="reference internal" href="#resettable">resettable</a></li>
<li><a class="reference internal" href="#sqlhtml">sqlhtml</a></li>
<li><a class="reference internal" href="#validatedb">validatedb</a></li>
</ul>
</li>
<li><a class="reference internal" href="#auth-app">auth app</a><ul>
<li><a class="reference internal" href="#createsuperuser">createsuperuser</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="deployment.html"
                        title="上一章">部署指南</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="orm.html"
                        title="下一章">数据库和ORM</a></p>
  <h3>本页</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/manage_guide.txt"
           rel="nofollow">显示源代码</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>快速搜索</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="搜索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    输入相关的模块，术语，类或者函数名称进行搜索
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="orm.html" title="数据库和ORM"
             >下一页</a> |</li>
        <li class="right" >
          <a href="deployment.html" title="部署指南"
             >上一页</a> |</li>
        <li><a href="index.html">Uliweb Documentation 0.1.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; 版权所有 2012, limodou.
      使用 <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>